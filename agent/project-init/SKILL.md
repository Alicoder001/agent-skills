---
name: project-init
description: Project setup wizard for AI agents. Use ONLY when user explicitly requests setup. Generates .agents/CONTEXT.md with stack, structure, coding rules, and skill mapping.
---

# Project Init Wizard

> Run only on explicit setup requests such as "Setup project", "Initialize context", or "Generate CONTEXT.md".

## Core Rules

1. Never run automatically.
2. Ask one question at a time.
3. Analyze local files before asking setup questions.
4. Do not re-ask values that are already inferred with high confidence.
5. If first user message is non-English, ask one language confirmation question.
6. If `.agents/CONTEXT.md` has checklist and `CONTEXT_READY` is checked, skip analysis and only confirm whether updates are needed.

## Workflow

### Step 0: Conversation Language

Ask this only if first user message is non-English:

```text
Use {detected_language} for this setup conversation?

1) Yes
2) No (English)
3) Other language
```

If answer is `3`, ask: `Which language?`

### Step A: Quick Analysis and Confirmation

Scan and summarize:
- `.agents/CONTEXT.md`
- `package.json`
- `tsconfig.json`
- `vite.config.*`
- `next.config.*`
- `nest-cli.json`

Ask:

```text
Here is the quick analysis summary. Continue with this direction or adjust it?

1) Continue
2) I want changes
```

If `2`, apply user corrections first. If `1`, continue.

### Step B: Ask Only Missing Inputs

Collect only unresolved fields from this question bank:

| Field | Options |
|------|---------|
| Project Name | text |
| Project Type | SaaS, E-commerce, Admin Dashboard, Landing Page, API Backend, Mobile App, Portfolio/Blog, Other |
| Frontend Framework | Next.js, Vite + React, Remix, None |
| TypeScript | Yes, No |
| UI Library | Tailwind, shadcn + Tailwind, MUI, Ant Design, None |
| State Management | TanStack Query, Zustand, Redux Toolkit, TanStack + Zustand, None |
| Backend | NestJS, Express, Next.js API Routes, Hono, None |
| Database | PostgreSQL, MySQL, MongoDB, SQLite, Supabase, None |
| ORM | Prisma, Drizzle, TypeORM, None |
| Package Manager | pnpm, npm, yarn, bun |

## Output Contract

Generate `.agents/CONTEXT.md` with this structure:

```markdown
# {PROJECT_NAME} - Project Context

> Auto-generated by project-init wizard

## Context Checklist (for agents)
- [ ] CONTEXT_READY
- [ ] STACK_CONFIRMED
- [ ] STRUCTURE_CONFIRMED
- [ ] COMMANDS_CONFIRMED
- [ ] SKILLS_MAPPED
- [ ] NOTES_CONFIRMED
- [ ] LOCAL_SKILLS_SYNCED

## Tech Stack
| Category | Technology |
|----------|------------|
| Framework | {FRAMEWORK} |
| Language | {LANGUAGE} |
| Styling | {UI_LIBRARY} |
| State | {STATE_MANAGEMENT} |
| Backend | {BACKEND} |
| Database | {DATABASE} |
| ORM | {ORM} |
| Package Manager | {PACKAGE_MANAGER} |

## Skills
- Core: `global-config`, `errors`, `git`, `solid`
- Frontend: {FRONTEND_SKILLS}
- Backend: {BACKEND_SKILLS}
- Data: {DATA_SKILLS}
- State: {STATE_SKILLS}
- UI: {UI_SKILLS}
- Testing: {TESTING_SKILLS}

## Project Structure
{PROJECT_STRUCTURE}

## Coding Rules
- Components: Keep focused and small
- TypeScript: Strict mode, avoid `any`
- Commits: Conventional Commit format
- Naming: PascalCase components, camelCase utilities

## Commands
# pnpm
pnpm dev
pnpm build
pnpm lint
pnpm test

# npm
npm run dev
npm run build
npm run lint
npm run test

# yarn
yarn dev
yarn build
yarn lint
yarn test

# bun
bun run dev
bun run build
bun run lint
bun run test
```

## Skill Mapping Rules

- Frontend:
- `nextjs` -> `react-core`, `react-nextjs`
- `vite` -> `react-core`, `react-vite`
- `remix` -> `react-core`
- TypeScript:
- `yes` -> `typescript`
- UI:
- `tailwind` -> `tailwind`
- `shadcn` -> `shadcn`, `tailwind`
- `mui` or `ant-design` -> `design`
- State:
- `tanstack` -> `tanstack-query`
- `zustand` -> `zustand`
- `redux` -> `redux`
- Backend:
- `nestjs` -> `nestjs`, `api-patterns`, `security`
- `express` or `next-api` or `hono` -> `api-patterns`, `security`
- Forms:
- if required -> `forms`
- Testing:
- if planned -> `testing`
- Any project:
- always include `git`, `solid`, `errors`, `global-config`

## References

- For complete legacy question flow and examples: `references/guide.md`
